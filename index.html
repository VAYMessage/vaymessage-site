<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vaymessage</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
--bg:#000;--glass:rgba(255,255,255,.08);--border:rgba(255,255,255,.12);
--text:#fff;--muted:rgba(255,255,255,.7);
--grad:linear-gradient(135deg,#5e5ce6,#0a84ff)
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Inter;background:var(--bg);color:var(--text)}

header{
position:fixed;top:0;width:100%;
background:rgba(0,0,0,.85);backdrop-filter:blur(20px);
border-bottom:1px solid var(--border);padding:16px 20px;z-index:100
}
header div{display:flex;justify-content:space-between;align-items:center}
.logo{font-weight:800}
.admin-btn{cursor:pointer;color:#5e5ce6;font-weight:600}

.hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:120px 20px}
.hero h1{font-size:3.5rem;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{margin-top:16px;color:var(--muted)}

section{padding:80px 20px}
.grid{max-width:900px;margin:0 auto;display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.card{background:var(--glass);border:1px solid var(--border);border-radius:18px;padding:24px}

.btn{background:var(--grad);color:#fff;border:none;padding:12px 20px;border-radius:30px;font-weight:600;cursor:pointer}
.hidden{display:none}

/* МОДАЛКИ */
.modal{
position:fixed;inset:0;background:rgba(0,0,0,.7);
display:flex;align-items:center;justify-content:center;z-index:1000
}
.modal-box{
background:#0a0a0a;border:1px solid var(--border);
border-radius:20px;padding:30px;width:100%;max-width:420px
}
.modal-box h2{margin-bottom:20px}
.modal-box input,textarea{
width:100%;margin-bottom:12px;padding:12px;
background:#000;border:1px solid var(--border);
border-radius:12px;color:#fff
}
textarea{resize:vertical;min-height:100px}
</style>
</head>

<body>

<header>
<div>
  <div class="logo">Vaymessage <small style="opacity:.6">BETA</small></div>
  <div class="admin-btn" onclick="openAdmin()">Вход для администратора</div>
</div>
</header>

<section class="hero">
<div>
<h1>Vaymessage</h1>
<p>Мессенджер нового поколения</p>
</div>
</section>

<section>
<h2 style="text-align:center;margin-bottom:20px">Что нового</h2>
<div class="grid" id="updates"></div>
</section>

<!-- ===== ADMIN LOGIN ===== -->
<div class="modal hidden" id="loginModal">
<div class="modal-box">
<h2>Вход администратора</h2>
<input type="password" id="adminPass" placeholder="Пароль">
<button class="btn" onclick="login()">Войти</button>
</div>
</div>

<!-- ===== ADMIN PANEL ===== -->
<div class="modal hidden" id="adminPanel">
<div class="modal-box">
<h2>Админ-панель</h2>

<input id="v" placeholder="Версия">
<input id="d" placeholder="Дата">
<input id="t" placeholder="Заголовок">
<textarea id="c" placeholder="Изменения (каждая строка — пункт)"></textarea>
<input id="a" placeholder="Android ссылка">
<input id="w" placeholder="Windows ссылка">

<button class="btn" onclick="generate()">Сгенерировать updates.json</button>
<textarea id="out" placeholder="Готовый JSON"></textarea>
<button class="btn" onclick="closeAdmin()">Закрыть</button>
</div>
</div>

<script>
const ADMIN_PASSWORD = "vay_admin_2026";

/* ЗАГРУЗКА ОБНОВ */
fetch('updates.json').then(r=>r.json()).then(d=>{
const box=document.getElementById('updates');
d.changes.forEach(t=>{
box.innerHTML+=`<div class="card">${t}</div>`
});
});

/* ADMIN */
function openAdmin(){
document.getElementById('loginModal').classList.remove('hidden')
}
function closeAdmin(){
document.getElementById('adminPanel').classList.add('hidden')
}
function login(){
if(document.getElementById('adminPass').value===ADMIN_PASSWORD){
document.getElementById('loginModal').classList.add('hidden')
document.getElementById('adminPanel').classList.remove('hidden')
}else alert('Неверный пароль')
}
function generate(){
const json={
version:v.value,
date:d.value,
title:t.value,
changes:c.value.split('\n').filter(Boolean),
download:{android:a.value,windows:w.value}
}
out.value=JSON.stringify(json,null,2)
}
</script>

</body>
</html>
