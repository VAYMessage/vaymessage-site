<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Push ‚Äî VAY</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<section class="hero reveal">
  <h1>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h1>
  <p>–ü–æ–ª—É—á–∞–π—Ç–µ –≤–∞–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç VAY</p>
</section>

<section class="glass reveal">
  <button onclick="enablePush()">üîî –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
</section>

<script>
async function enablePush() {
  if (!("serviceWorker" in navigator)) {
    alert("Push –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
    return;
  }

  const reg = await navigator.serviceWorker.register("/sw.js");

  const perm = await Notification.requestPermission();
  if (perm !== "granted") {
    alert("–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ");
    return;
  }

  alert("Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã ‚úÖ");
}
</script>

</body>
</html>
