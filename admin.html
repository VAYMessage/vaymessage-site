<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>VAY Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --glass: rgba(255,255,255,0.12);
  --border: rgba(255,255,255,0.25);
  --blur: blur(24px);
  --primary: #5E5CE6;
}

body {
  margin: 0;
  font-family: Inter, system-ui;
  background: radial-gradient(circle at top, #1b1b2f, #000);
  color: white;
  min-height: 100vh;
}

.center {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.glass {
  background: var(--glass);
  backdrop-filter: var(--blur);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 32px;
  width: 360px;
  box-shadow: 0 30px 80px rgba(0,0,0,.5);
  animation: fade 0.6s ease;
}

@keyframes fade {
  from { opacity: 0; transform: scale(.95); }
  to { opacity: 1; transform: scale(1); }
}

h1 {
  margin: 0 0 16px;
  font-size: 1.8rem;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  border-radius: 14px;
  border: none;
  background: linear-gradient(135deg,#5E5CE6,#0A84FF);
  color: white;
  font-size: 1rem;
  cursor: pointer;
}

.dashboard {
  padding: 40px;
}

.card {
  background: var(--glass);
  border: 1px solid var(--border);
  backdrop-filter: var(--blur);
  border-radius: 20px;
  padding: 24px;
  margin-bottom: 20px;
}
</style>
</head>

<body>

<div id="login" class="center">
  <div class="glass">
    <h1>VAY Admin</h1>
    <p>–í—Ö–æ–¥ —á–µ—Ä–µ–∑ FAST ID</p>
    <button onclick="fastLogin('Admin')">–í–æ–π—Ç–∏ –∫–∞–∫ Admin</button>
  </div>
</div>

<div id="dashboard" style="display:none">
  <div class="dashboard">
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="user"></span></h1>

    <div class="card">
      <h3>üì¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
      <button onclick="sendTestNotification()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç PUSH</button>
    </div>

    <div class="card">
      <h3>üì∞ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è</h3>
      <button onclick="loadUpdates()">–ó–∞–≥—Ä—É–∑–∏—Ç—å updates.json</button>
      <pre id="updates"></pre>
    </div>

    <button onclick="logout()">–í—ã–π—Ç–∏</button>
  </div>
</div>

<script>
const user = localStorage.getItem("vay_id");

function fastLogin(name) {
  localStorage.setItem("vay_id", name);
  location.reload();
}

function logout() {
  localStorage.removeItem("vay_id");
  location.reload();
}

if (user) {
  document.getElementById("login").style.display = "none";
  document.getElementById("dashboard").style.display = "block";
  document.getElementById("user").textContent = user;
}

async function loadUpdates() {
  const res = await fetch("updates.json");
  const data = await res.json();
  document.getElementById("updates").textContent =
    JSON.stringify(data, null, 2);
}
</script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/sw.js");
}
</script>

</body>
</html>
